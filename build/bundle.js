(()=>{"use strict";class e{static BTN_TYPE={CLEAN:"clean",SIGN_CHANGE:"sign-change",PERCENT:"percent",DIVISION:"division",SEVEN:"seven",EIGHT:"eight",NINE:"nine",MULT:"mult",FOUR:"four",FIVE:"five",SIX:"six",MINUS:"minus",ONE:"one",TWO:"two",THREE:"three",PLUS:"plus",NULL:"null",COMMA:"comma",CALC:"calc"};static OPERATION_TYPE={NONE:"none",DIVISION:"division",MULT:"mult",MINUS:"minus",PLUS:"plus"};constructor(){this.resetValue()}resetValue(){this.currFirstValue="0",this.currOperation=e.OPERATION_TYPE.NONE,this.currSecondValue="0"}changeValueSign(){this.currOperation===e.OPERATION_TYPE.NONE?this.currFirstValue="-"===this.currFirstValue[0]?this.currFirstValue:"-"+this.currFirstValue:this.currSecondValue="-"===this.currSecondValue[0]?this.currSecondValue:"-"+this.currSecondValue}getValuePercent(){this.currOperation===e.OPERATION_TYPE.NONE?this.currFirstValue=(Number(this.currFirstValue)/100).toString():this.currSecondValue?this.currSecondValue=(Number(this.currFirstValue)*Number(this.currSecondValue)/100).toString():this.currSecondValue=(Number(this.currFirstValue)/100).toString()}setDivisionSign(){this.currOperation=e.OPERATION_TYPE.DIVISION}setMultSign(){this.currOperation=e.OPERATION_TYPE.MULT}setMinusSign(){this.currOperation=e.OPERATION_TYPE.MINUS}setPlusSign(){this.currOperation=e.OPERATION_TYPE.PLUS}addNumberToValue(t){this.currOperation===e.OPERATION_TYPE.NONE?this.currFirstValue.replace(/,/g,"").length<9&&(this.currFirstValue+=t):this.currSecondValue.replace(/,/g,"").length<9&&(this.currSecondValue+=t)}addCommaToValue(){this.currOperation===e.OPERATION_TYPE.NONE?(!this.currFirstValue.includes(",")||this.currFirstValue.length<9)&&(this.currFirstValue+=","):(!this.currSecondValue.includes(",")||this.currSecondValue.length<9)&&(this.currSecondValue+=",")}calculateResult(){switch(this.currOperation){case e.OPERATION_TYPE.DIVISION:this.currFirstValue=(Number(this.currFirstValue)/Number(this.currSecondValue)).toString();break;case e.OPERATION_TYPE.MULT:this.currFirstValue=(Number(this.currFirstValue)*Number(this.currSecondValue)).toString();break;case e.OPERATION_TYPE.MINUS:this.currFirstValue=(Number(this.currFirstValue)-Number(this.currSecondValue)).toString();break;case e.OPERATION_TYPE.PLUS:this.currFirstValue=(Number(this.currFirstValue)+Number(this.currSecondValue)).toString();break;default:console.warn(`Unknown operation type for calculation: ${this.currOperation}`)}this.currOperation=e.OPERATION_TYPE.NONE,this.currSecondValue=0}}const t=e;class r{static CLASS={CALCULATOR:{WRAPPER:"calculator",BTN:"calculator-btn",VALUE:"calculator__value",CLEAN:"calculator__clean",SIGN_CHANGE:"calculator__sign-change-btn",PERCENT:"calculator__percent-btn",DIVISION:"calculator__division-btn",SEVEN:"calculator__seven-btn",EIGHT:"calculator__eight-btn",NINE:"calculator__nine-btn",MULT:"calculator__mult-btn",FOUR:"calculator__four-btn",FIVE:"calculator__five-btn",SIX:"calculator__six-btn",MINUS:"calculator__minus-btn",ONE:"calculator__one-btn",TWO:"calculator__two-btn",THREE:"calculator__three-btn",PLUS:"calculator__plus-btn",NULL:"calculator__null-btn",COMMA:"calculator__comma-btn",CALC:"calculator__calc-btn"}};static DATA_ATTRIBUTE={CALCULATOR:{BTN_TYPE:{KEBAB:"btn-type",CAMEL:"btnType"}}};getCalculatorWrapper(){return document.querySelector(`.${r.CLASS.CALCULATOR.WRAPPER}`)}setCalculatorValue(e){return document.querySelector(`.${r.CLASS.CALCULATOR.VALUE}`).textContent=e,this}}const a=r,u=class{constructor(e,t){this.view=e,this.model=t}init(){this._setCalculatorBtnsListener()}_setCalculatorBtnsListener(){this.view.getCalculatorWrapper().addEventListener("click",this._onCalculatorClicked.bind(this))}_onCalculatorClicked(e){const r=e.target;if(r.dataset[a.DATA_ATTRIBUTE.CALCULATOR.BTN_TYPE.CAMEL])switch(r.dataset[a.DATA_ATTRIBUTE.CALCULATOR.BTN_TYPE.CAMEL]){case t.BTN_TYPE.CLEAN:this.model.resetValue(),this.view.setCalculatorValue(this.model.currFirstValue);break;case t.BTN_TYPE.SIGN_CHANGE:this.model.changeValueSign(),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.PERCENT:this.model.getValuePercent(),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.DIVISION:this.model.setDivisionSign();break;case t.BTN_TYPE.SEVEN:this.model.addNumberToValue(7),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.EIGHT:this.model.addNumberToValue(8),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.NINE:this.model.addNumberToValue(9),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.MULT:this.model.setMultSign();break;case t.BTN_TYPE.FOUR:this.model.addNumberToValue(4),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.FIVE:this.model.addNumberToValue(5),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.SIX:this.model.addNumberToValue(6),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.MINUS:this.model.setMinusSign();break;case t.BTN_TYPE.ONE:this.model.addNumberToValue(1),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.TWO:this.model.addNumberToValue(2),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.THREE:this.model.addNumberToValue(3),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.PLUS:this.model.setPlusSign();break;case t.BTN_TYPE.NULL:this.model.addNumberToValue(0),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.COMMA:this.model.addCommaToValue(),this.view.setCalculatorValue(this.model.currOperation===t.OPERATION_TYPE.NONE?this.model.currFirstValue:this.model.currSecondValue);break;case t.BTN_TYPE.CALC:this.model.calculateResult(),this.view.setCalculatorValue(this.model.currFirstValue);break;default:console.warn(`One of calculator buttons had unknown data-${a.DATA_ATTRIBUTE.CALCULATOR.BTN_TYPE.KEBAB} type: ${e.target.dataset[a.DATA_ATTRIBUTE.CALCULATOR.BTN_TYPE.CAMEL]}`)}}};document.addEventListener("DOMContentLoaded",(()=>{new u(new a,new t).init()}))})();
//# sourceMappingURL=bundle.js.map